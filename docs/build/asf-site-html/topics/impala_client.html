<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2023"><meta name="DC.rights.owner" content="(C) Copyright 2023"><meta name="DC.Type" content="concept"><meta name="DC.Relation" scheme="URI" content="../topics/impala_impala_shell.html"><meta name="DC.Relation" scheme="URI" content="../topics/impala_odbc.html"><meta name="DC.Relation" scheme="URI" content="../topics/impala_jdbc.html"><meta name="DC.Relation" scheme="URI" content="../topics/impala_query_results_spooling.html"><meta name="prodname" content="Impala"><meta name="version" content="Impala 3.4.x"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="intro_client"><link rel="stylesheet" type="text/css" href="../css/commonltr.css"><link rel="stylesheet" type="text/css" href="../css/dita-ot-doc.css"><title>Impala Client Access</title></head><body id="intro_client"><header role="banner"><!--
The DITA Open Toolkit is licensed for use under the the Apache
Software Foundation License v2.0.

A copy of the Apache Software Foundation License 2.0 is
available at http://opensource.org/licenses/apache2.0.php

This statement must be included in any copies of DITA Open
Toolkit code.
--><div class="header">
  <p>Apache Impala</p>
  <hr>
</div></header><nav role="toc"><ul><li><a href="../topics/impala_intro.html">Introducing Apache Impala</a></li><li><a href="../topics/impala_concepts.html">Concepts and Architecture</a></li><li><a href="../topics/impala_planning.html">Deployment Planning</a></li><li><a href="../topics/impala_install.html">Installing Impala</a></li><li><a href="../topics/impala_config.html">Managing Impala</a></li><li><a href="../topics/impala_upgrading.html">Upgrading Impala</a></li><li><a href="../topics/impala_processes.html">Starting Impala</a></li><li><a href="../topics/impala_tutorial.html">Tutorials</a></li><li><a href="../topics/impala_admin.html">Administration</a></li><li><a href="../topics/impala_security.html">Impala Security</a></li><li><a href="../topics/impala_langref.html">SQL Reference</a></li><li><a href="../topics/impala_performance.html">Performance Tuning</a></li><li><a href="../topics/impala_scalability.html">Scalability Considerations</a></li><li><a href="../topics/impala_resource_management.html">Resource Management</a></li><li><a href="../topics/impala_partitioning.html">Partitioning</a></li><li><a href="../topics/impala_file_formats.html">File Formats</a></li><li><a href="../topics/impala_kudu.html">Using Impala to Query Kudu Tables</a></li><li><a href="../topics/impala_hbase.html">HBase Tables</a></li><li><a href="../topics/impala_iceberg.html">Iceberg Tables</a></li><li><a href="../topics/impala_s3.html">S3 Tables</a></li><li><a href="../topics/impala_adls.html">ADLS Tables</a></li><li><a href="../topics/impala_isilon.html">Isilon Storage</a></li><li><a href="../topics/impala_ozone.html">Ozone Storage</a></li><li><a href="../topics/impala_logging.html">Logging</a></li><li class="active"><a href="../topics/impala_client.html">Client Access</a><ul><li><a href="../topics/impala_impala_shell.html">The Impala Shell</a></li><li><a href="../topics/impala_odbc.html">Configuring Impala to Work with ODBC</a></li><li><a href="../topics/impala_jdbc.html">Configuring Impala to Work with JDBC</a></li><li><a href="../topics/impala_query_results_spooling.html">Spooling Impala Query Results</a></li></ul></li><li><a href="../topics/impala_fault_tolerance.html">Fault Tolerance</a></li><li><a href="../topics/impala_troubleshooting.html">Troubleshooting Impala</a></li><li><a href="../topics/impala_ports.html">Ports Used by Impala</a></li><li><a href="../topics/impala_reserved_words.html">Impala Reserved Words</a></li><li><a href="../topics/impala_faq.html">Impala Frequently Asked Questions</a></li><li><a href="../topics/impala_release_notes.html">Impala Release Notes</a></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">

  <h1 class="title topictitle1" id="ariaid-title1">Impala Client Access</h1>

  

  <div class="body conbody">

    <p class="p">
      Application developers have a number of options to interface with Impala. The core
      development language with Impala is SQL. You can also use Java or other languages to
      interact with Impala through the standard JDBC and ODBC interfaces used by many business
      intelligence tools. For specialized kinds of analysis, you can supplement the Impala
      built-in functions by writing user-defined functions in C++ or Java.
    </p>

    <p class="p">
      You can connect and submit requests to the Impala through:
    </p>

    <ul class="ul">
      <li class="li">
        The impala-shell interactive command interpreter
      </li>

      <li class="li">
        The Hue web-based user interface
      </li>

      <li class="li">
        JDBC
      </li>

      <li class="li">
        ODBC
      </li>
    </ul>

    <p class="p">
      Impala clients can connect to the Coordinator Impala Daemon (<code class="ph codeph">impalad</code>) via
      HiveServer2 over HTTP or over the TCP binary. Both HTTP and binary support the Kerberos
      SPNEGO and LDAP for authentication to Impala. See below for the default ports and the
      Impala flags to change the ports.
    </p>

    <div class="p">
      <table class="simpletable frame-all" id="intro_client__simpletable_tr2_gnt_43b"><col style="width:22.675736961451246%"><col style="width:23.356009070294785%"><col style="width:53.96825396825397%"><tbody><tr class="strow">

          <td class="stentry"><strong class="ph b">Protocol</strong>

          </td>

          <td class="stentry"><strong class="ph b">Default Port</strong>

          </td>

          <td class="stentry"><strong class="ph b">Flag to Specify an Alternate Port</strong>

          </td>

        </tr><tr class="strow">

          <td class="stentry">HTTP</td>

          <td class="stentry">28000</td>

          <td class="stentry"><code class="ph codeph">‑‑hs2_http_port</code>

          </td>

        </tr><tr class="strow">

          <td class="stentry">Binary TCP</td>

          <td class="stentry">21050</td>

          <td class="stentry"><code class="ph codeph">‑‑hs2_port</code>

          </td>

        </tr></tbody></table>
    </div>

    <p class="p">
      Each <code class="ph codeph">impalad</code> daemon process, running on separate nodes in a cluster,
      listens to <a class="xref" href="impala_ports.html#ports">several ports</a> for incoming requests:
    </p>

    <ul class="ul">
      <li class="li">
        Requests from <code class="ph codeph">impala-shell</code> and Hue are routed to the
        <code class="ph codeph">impalad</code> daemons through the same port.
      </li>

      <li class="li">
        The <code class="ph codeph">impalad</code> daemons listen on separate ports for JDBC and ODBC
        requests.
      </li>
    </ul>

    <section class="section" id="intro_client__section_egg_wjt_f3b"><h2 class="title sectiontitle">Impala Startup Options for Client Connections</h2>

      

      <p class="p">
        Use the following flags when starting Impala Daemon coordinator to control client
        connections to Impala.
      </p>

      <dl class="dl">
        

          <dt class="dt dlterm">
            --accepted_client_cnxn_timeout
          </dt>

          <dd class="dd">
            Controls how Impala treats new connection requests if it has run out of the number
            of threads configured by <code class="ph codeph">--fe_service_threads</code>.
            <p class="p">
              If <code class="ph codeph">--accepted_client_cnxn_timeout &gt; 0</code>, new connection requests
              are rejected if Impala can't get a server thread within the specified (in seconds)
              timeout.
            </p>

            <p class="p">
              If <code class="ph codeph">--accepted_client_cnxn_timeout=0</code>, i.e. no timeout, clients
              wait indefinitely to open the new session until more threads are available.
            </p>

            <p class="p">
              The default timeout is 5 minutes.
            </p>

            <p class="p">
              The timeout applies only to client facing thrift servers, i.e., HS2 and Beeswax
              servers.
            </p>
          </dd>

        

        

          <dt class="dt dlterm">
            --disconnected_session_timeout
          </dt>

          <dd class="dd">
            When a HiveServer2 session has had no open connections for longer than this value,
            the session will be closed, and any associated queries will be unregistered.
            <p class="p">
              Specify the value in hours.
            </p>

            <p class="p">
              The default value is 1 hour.
            </p>

            <p class="p">
              This flag does not apply to Beeswax clients. When a Beeswax client connection is
              closed, Impala closes the session associated with that connection.
            </p>
          </dd>

        

        

          <dt class="dt dlterm">
            --fe_service_threads
          </dt>

          <dd class="dd">
            Specifies the maximum number of concurrent client connections allowed. The default
            value is 64 with which 64 queries can run simultaneously.
            <p class="p">
              If you have more clients trying to connect to Impala than the value of this
              setting, the later arriving clients have to wait for the duration specified by
              <code class="ph codeph">--accepted_client_cnxn_timeout</code>. You can increase this value to
              allow more client connections. However, a large value means more threads to be
              maintained even if most of the connections are idle, and it could negatively
              impact query latency. Client applications should use the connection pool to avoid
              need for large number of sessions.
            </p>
          </dd>

        

        

          <dt class="dt dlterm">
            --hs2_http_port
          </dt>

          <dd class="dd">
            Specifies the port for clients to connect to Impala server over HTTP.
            <p class="p">
              The default port is 28000.
            </p>

            <p class="p">
              You can disable the HTTP end point for clients by setting the flag to
              <code class="ph codeph">0</code>.
            </p>

            <p class="p">
              To enable TLS/SSL for HiveServer2 HTTP endpoint use
              <code class="ph codeph">--ssl_server_certificate</code> and <code class="ph codeph">--ssl_private_key</code>.
              See <a class="xref" href="impala_ssl.html#ssl">Configuring TLS/SSL for Impala</a> for detail.
            </p>
          </dd>

        

        

          <dt class="dt dlterm">
            --idle_client_poll_time_s
          </dt>

          <dd class="dd">
            The value of this setting specifies how frequently Impala polls to check if a client
            connection is idle and closes it if the connection is idle. A client connection is
            idle if all sessions associated with the client connection are idle.
            <p class="p">
              By default, <code class="ph codeph">--idle_client_poll_time_s</code> is set to 30 seconds.
            </p>

            <p class="p">
              If <code class="ph codeph">--idle_client_poll_time_s</code> is set to 0, idle client connections
              stay open until explicitly closed by the clients.
            </p>

            <p class="p">
              The connection will only be closed if all the associated sessions are idle or
              closed. Sessions cannot be idle unless either the flag
              <code class="ph codeph">--idle_session_timeout</code> or the
              <code class="ph codeph">IDLE_SESSION_TIMEOUT</code> query option is set to greater than 0. If
              idle session timeout is not configured, a session cannot become idle by
              definition, and therefore its connection stays open until the client explicitly
              closes it.
            </p>
          </dd>

        

        

          <dt class="dt dlterm">
            --max_cookie_lifetime_s
          </dt>

          <dd class="dd">
            Starting in Impala 3.4.0, Impala uses cookies for authentication when clients
            connect via HiveServer2 over HTTP. Use the <code class="ph codeph">--max_cookie_lifetime_s</code>
            startup flag to control how long generated cookies are valid for.
            <p class="p">
              Specify the value in seconds.
            </p>
            <p class="p">
              The default value is 1 day.
            </p>

            <p class="p">
              Setting the flag to <code class="ph codeph">0</code> disables cookie support.
            </p>

            <p class="p">
              When an unexpired cookie is successfully verified, the user name contained in the
              cookie is set on the connection.
            </p>

            <p class="p">
              Each <code class="ph codeph">impalad</code> uses its own key to generate the signature, so
              clients that reconnect to a different <code class="ph codeph">impalad</code> have to
              re-authenticate.
            </p>

            <p class="p">
              On a single <code class="ph codeph">impalad</code>, cookies are valid across sessions and
              connections.
            </p>
          </dd>

        
      </dl>

    </section>

  </div>

<nav role="navigation" class="related-links"><ul class="ullinks"><li class="link ulchildlink"><strong><a href="../topics/impala_impala_shell.html">Using the Impala Shell (impala-shell Command)</a></strong><br></li><li class="link ulchildlink"><strong><a href="../topics/impala_odbc.html">Configuring Impala to Work with ODBC</a></strong><br></li><li class="link ulchildlink"><strong><a href="../topics/impala_jdbc.html">Configuring Impala to Work with JDBC</a></strong><br></li><li class="link ulchildlink"><strong><a href="../topics/impala_query_results_spooling.html">Spooling Impala Query Results</a></strong><br></li></ul></nav></article></main></body></html>