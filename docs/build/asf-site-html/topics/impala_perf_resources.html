<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2022"><meta name="DC.rights.owner" content="(C) Copyright 2022"><meta name="DC.Type" content="concept"><meta name="DC.Relation" scheme="URI" content="../topics/impala_performance.html"><meta name="prodname" content="Impala"><meta name="prodname" content="Impala"><meta name="version" content="Impala 3.4.x"><meta name="version" content="Impala 3.4.x"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="mem_limits"><link rel="stylesheet" type="text/css" href="../css/commonltr.css"><link rel="stylesheet" type="text/css" href="../css/dita-ot-doc.css"><title>Controlling Impala Resource Usage</title></head><body id="mem_limits"><header role="banner"><!--
The DITA Open Toolkit is licensed for use under the the Apache
Software Foundation License v2.0.

A copy of the Apache Software Foundation License 2.0 is
available at http://opensource.org/licenses/apache2.0.php

This statement must be included in any copies of DITA Open
Toolkit code.
--><div class="header">
  <p>Apache Impala</p>
  <hr>
</div></header><nav role="toc"><ul><li><a href="../topics/impala_intro.html">Introducing Apache Impala</a></li><li><a href="../topics/impala_concepts.html">Concepts and Architecture</a></li><li><a href="../topics/impala_planning.html">Deployment Planning</a></li><li><a href="../topics/impala_install.html">Installing Impala</a></li><li><a href="../topics/impala_config.html">Managing Impala</a></li><li><a href="../topics/impala_upgrading.html">Upgrading Impala</a></li><li><a href="../topics/impala_processes.html">Starting Impala</a></li><li><a href="../topics/impala_tutorial.html">Tutorials</a></li><li><a href="../topics/impala_admin.html">Administration</a></li><li><a href="../topics/impala_security.html">Impala Security</a></li><li><a href="../topics/impala_langref.html">SQL Reference</a></li><li><a href="../topics/impala_performance.html">Performance Tuning</a><ul><li><a href="../topics/impala_perf_cookbook.html">Performance Best Practices</a></li><li><a href="../topics/impala_perf_joins.html">Join Performance</a></li><li><a href="../topics/impala_perf_stats.html">Table and Column Statistics</a></li><li><a href="../topics/impala_perf_benchmarking.html">Benchmarking</a></li><li class="active"><a href="../topics/impala_perf_resources.html">Controlling Resource Usage</a></li><li><a href="../topics/impala_runtime_filtering.html">Runtime Filtering</a></li><li><a href="../topics/impala_perf_hdfs_caching.html">HDFS Caching</a></li><li><a href="../topics/impala_perf_skew.html">HDFS Block Skew</a></li><li><a href="../topics/impala_data_cache.html">Data Cache for Remote Reads</a></li><li><a href="../topics/impala_perf_testing.html">Testing Impala Performance</a></li><li><a href="../topics/impala_explain_plan.html">EXPLAIN Plans and Query Profiles</a></li></ul></li><li><a href="../topics/impala_scalability.html">Scalability Considerations</a></li><li><a href="../topics/impala_resource_management.html">Resource Management</a></li><li><a href="../topics/impala_partitioning.html">Partitioning</a></li><li><a href="../topics/impala_file_formats.html">File Formats</a></li><li><a href="../topics/impala_kudu.html">Using Impala to Query Kudu Tables</a></li><li><a href="../topics/impala_hbase.html">HBase Tables</a></li><li><a href="../topics/impala_iceberg.html">Iceberg Tables</a></li><li><a href="../topics/impala_s3.html">S3 Tables</a></li><li><a href="../topics/impala_adls.html">ADLS Tables</a></li><li><a href="../topics/impala_isilon.html">Isilon Storage</a></li><li><a href="../topics/impala_logging.html">Logging</a></li><li><a href="../topics/impala_client.html">Client Access</a></li><li><a href="../topics/impala_fault_tolerance.html">Fault Tolerance</a></li><li><a href="../topics/impala_troubleshooting.html">Troubleshooting Impala</a></li><li><a href="../topics/impala_ports.html">Ports Used by Impala</a></li><li><a href="../topics/impala_reserved_words.html">Impala Reserved Words</a></li><li><a href="../topics/impala_faq.html">Impala Frequently Asked Questions</a></li><li><a href="../topics/impala_release_notes.html">Impala Release Notes</a></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">

  <h1 class="title topictitle1" id="ariaid-title1">Controlling Impala Resource Usage</h1>
  
  

  <div class="body conbody">

    <p class="p">
      Sometimes, balancing raw query performance against scalability requires limiting the amount of resources,
      such as memory or CPU, used by a single query or group of queries. Impala can use several mechanisms that
      help to smooth out the load during heavy concurrent usage, resulting in faster overall query times and
      sharing of resources across Impala queries, MapReduce jobs, and other kinds of workloads across a <span class="keyword"></span>
      cluster:
    </p>

    <ul class="ul">
      <li class="li">
        The Impala admission control feature uses a fast, distributed mechanism to hold back queries that exceed
        limits on the number of concurrent queries or the amount of memory used. The queries are queued, and
        executed as other queries finish and resources become available. You can control the concurrency limits,
        and specify different limits for different groups of users to divide cluster resources according to the
        priorities of different classes of users. This feature is new in Impala 1.3.
        See <a class="xref" href="impala_admission.html#admission_control">Admission Control and Query Queuing</a> for details.
      </li>

      <li class="li">
        <p class="p">
          You can restrict the amount of memory Impala reserves during query execution by specifying the
          <code class="ph codeph">-mem_limit</code> option for the <code class="ph codeph">impalad</code> daemon. See
          <a class="xref" href="impala_config_options.html#config_options">Modifying Impala Startup Options</a> for details. This limit applies only to the
          memory that is directly consumed by queries; Impala reserves additional memory at startup, for example to
          hold cached metadata.
        </p>
      </li>

      <li class="li">
        <p class="p">
          For production deployments, implement resource isolation using your cluster management
          tool.
        </p>
      </li>
    </ul>
  </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/impala_performance.html">Tuning Impala for Performance</a></div></div></nav></article></main></body></html>