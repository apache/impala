<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2024"><meta name="DC.rights.owner" content="(C) Copyright 2024"><meta name="DC.Type" content="concept"><meta name="DC.Relation" scheme="URI" content="../topics/impala_security.html"><meta name="prodname" content="Impala"><meta name="prodname" content="Impala"><meta name="version" content="Impala 3.4.x"><meta name="version" content="Impala 3.4.x"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="secure_files"><link rel="stylesheet" type="text/css" href="../css/commonltr.css"><link rel="stylesheet" type="text/css" href="../css/dita-ot-doc.css"><title>Securing Impala Data and Log Files</title></head><body id="secure_files"><header role="banner"><!--
The DITA Open Toolkit is licensed for use under the the Apache
Software Foundation License v2.0.

A copy of the Apache Software Foundation License 2.0 is
available at http://opensource.org/licenses/apache2.0.php

This statement must be included in any copies of DITA Open
Toolkit code.
--><div class="header">
  <p>Apache Impala</p>
  <hr>
</div></header><nav role="toc"><ul><li><a href="../topics/impala_intro.html">Introducing Apache Impala</a></li><li><a href="../topics/impala_concepts.html">Concepts and Architecture</a></li><li><a href="../topics/impala_planning.html">Deployment Planning</a></li><li><a href="../topics/impala_install.html">Installing Impala</a></li><li><a href="../topics/impala_config.html">Managing Impala</a></li><li><a href="../topics/impala_upgrading.html">Upgrading Impala</a></li><li><a href="../topics/impala_processes.html">Starting Impala</a></li><li><a href="../topics/impala_tutorial.html">Tutorials</a></li><li><a href="../topics/impala_admin.html">Administration</a></li><li><a href="../topics/impala_security.html">Impala Security</a><ul><li><a href="../topics/impala_security_guidelines.html">Security Guidelines for Impala</a></li><li class="active"><a href="../topics/impala_security_files.html">Securing Impala Data and Log Files</a></li><li><a href="../topics/impala_security_install.html">Installation Considerations for Impala Security</a></li><li><a href="../topics/impala_security_metastore.html">Securing the Hive Metastore Database</a></li><li><a href="../topics/impala_security_webui.html">Securing the Impala Web User Interface</a></li><li><a href="../topics/impala_ssl.html">Configuring TLS/SSL for Impala</a></li><li><a href="../topics/impala_authorization.html">Impala Authorization</a></li><li><a href="../topics/impala_authentication.html">Impala Authentication</a></li><li><a href="../topics/impala_auditing.html">Auditing</a></li><li><a href="../topics/impala_lineage.html">Viewing Lineage Info</a></li></ul></li><li><a href="../topics/impala_langref.html">SQL Reference</a></li><li><a href="../topics/impala_performance.html">Performance Tuning</a></li><li><a href="../topics/impala_scalability.html">Scalability Considerations</a></li><li><a href="../topics/impala_resource_management.html">Resource Management</a></li><li><a href="../topics/impala_partitioning.html">Partitioning</a></li><li><a href="../topics/impala_file_formats.html">File Formats</a></li><li><a href="../topics/impala_kudu.html">Using Impala to Query Kudu Tables</a></li><li><a href="../topics/impala_hbase.html">HBase Tables</a></li><li><a href="../topics/impala_iceberg.html">Iceberg Tables</a></li><li><a href="../topics/impala_s3.html">S3 Tables</a></li><li><a href="../topics/impala_adls.html">ADLS Tables</a></li><li><a href="../topics/impala_isilon.html">Isilon Storage</a></li><li><a href="../topics/impala_ozone.html">Ozone Storage</a></li><li><a href="../topics/impala_logging.html">Logging</a></li><li><a href="../topics/impala_client.html">Client Access</a></li><li><a href="../topics/impala_fault_tolerance.html">Fault Tolerance</a></li><li><a href="../topics/impala_troubleshooting.html">Troubleshooting Impala</a></li><li><a href="../topics/impala_ports.html">Ports Used by Impala</a></li><li><a href="../topics/impala_reserved_words.html">Impala Reserved Words</a></li><li><a href="../topics/impala_faq.html">Impala Frequently Asked Questions</a></li><li><a href="../topics/impala_release_notes.html">Impala Release Notes</a></li></ul></nav><main role="main"><article role="article" aria-labelledby="ariaid-title1">

  <h1 class="title topictitle1" id="ariaid-title1">Securing Impala Data and Log Files</h1>
  

  <div class="body conbody">

    <p class="p">
      One aspect of security is to protect files from unauthorized access at the filesystem level. For example, if
      you store sensitive data in HDFS, you specify permissions on the associated files and directories in HDFS to
      restrict read and write permissions to the appropriate users and groups.
    </p>

    <p class="p">
      If you issue queries containing sensitive values in the <code class="ph codeph">WHERE</code> clause, such as financial
      account numbers, those values are stored in Impala log files in the Linux filesystem and you must secure
      those files also. For the locations of Impala log files, see <a class="xref" href="impala_logging.html#logging">Using Impala Logging</a>.
    </p>

    <p class="p">
      All Impala read and write operations are performed under the filesystem privileges of the
      <code class="ph codeph">impala</code> user. The <code class="ph codeph">impala</code> user must be able to read all directories and data
      files that you query, and write into all the directories and data files for <code class="ph codeph">INSERT</code> and
      <code class="ph codeph">LOAD DATA</code> statements. At a minimum, make sure the <code class="ph codeph">impala</code> user is in the
      <code class="ph codeph">hive</code> group so that it can access files and directories shared between Impala and Hive. See
      <a class="xref" href="impala_prereqs.html#prereqs_account">User Account Requirements</a> for more details.
    </p>

    <p class="p">
      Setting file permissions is necessary for Impala to function correctly, but is not an effective security
      practice by itself:
    </p>

    <ul class="ul">
      <li class="li">
      <p class="p">
        The way to ensure that only authorized users can submit requests for databases and tables they are allowed
        to access is to set up Ranger authorization, as explained in
        <a class="xref" href="impala_authorization.html#authorization">Impala Authorization</a>. With authorization enabled, the checking of the user
        ID and group is done by Impala, and unauthorized access is blocked by Impala itself. The actual low-level
        read and write requests are still done by the <code class="ph codeph">impala</code> user, so you must have appropriate
        file and directory permissions for that user ID.
      </p>
      </li>

      <li class="li">
      <p class="p">
        You must also set up Kerberos authentication, as described in <a class="xref" href="impala_kerberos.html#kerberos">Enabling Kerberos Authentication for Impala</a>,
        so that users can only connect from trusted hosts. With Kerberos enabled, if someone connects a new host to
        the network and creates user IDs that match your privileged IDs, they will be blocked from connecting to
        Impala at all from that host.
      </p>
      </li>
    </ul>
  </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/impala_security.html">Impala Security</a></div></div></nav></article></main></body></html>