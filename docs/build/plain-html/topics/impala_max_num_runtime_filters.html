<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

<meta name="copyright" content="(C) Copyright 2024" />
<meta name="DC.rights.owner" content="(C) Copyright 2024" />
<meta name="DC.Type" content="concept" />
<meta name="DC.Title" content="MAX_NUM_RUNTIME_FILTERS Query Option (Impala 2.5 or higher only)" />
<meta name="DC.Relation" scheme="URI" content="../topics/impala_explain_level.html" />
<meta name="prodname" content="Impala" />
<meta name="prodname" content="Impala" />
<meta name="version" content="Impala 3.4.x" />
<meta name="version" content="Impala 3.4.x" />
<meta name="DC.Format" content="XHTML" />
<meta name="DC.Identifier" content="max_num_runtime_filters" />
<link rel="stylesheet" type="text/css" href="../commonltr.css" />
<title>MAX_NUM_RUNTIME_FILTERS Query Option (Impala 2.5 or higher only)</title>
</head>
<body id="max_num_runtime_filters">


  <h1 class="title topictitle1" id="ariaid-title1">MAX_NUM_RUNTIME_FILTERS Query Option (<span class="keyword">Impala 2.5</span> or higher only)</h1>

  
  

  <div class="body conbody">

    <p class="p">
      
      The <code class="ph codeph">MAX_NUM_RUNTIME_FILTERS</code> query option
      sets an upper limit on the number of runtime filters that can be produced for each query.
    </p>


    <p class="p">
        <strong class="ph b">Type:</strong> integer
      </p>


    <p class="p">
      <strong class="ph b">Default:</strong> 10
    </p>


    <p class="p">
        <strong class="ph b">Added in:</strong> <span class="keyword">Impala 2.5.0</span>
      </p>


    <p class="p">
        <strong class="ph b">Usage notes:</strong>
      </p>


    <p class="p">
      Each runtime filter imposes some memory overhead on the query.
      Depending on the setting of the <code class="ph codeph">RUNTIME_BLOOM_FILTER_SIZE</code>
      query option, each filter might consume between 1 and 16 megabytes
      per plan fragment. There are typically 5 or fewer filters per plan fragment.
    </p>


    <p class="p">
      Impala evaluates the effectiveness of each filter, and keeps the
      ones that eliminate the largest number of partitions or rows.
      Therefore, this setting can protect against
      potential problems due to excessive memory overhead for filter production,
      while still allowing a high level of optimization for suitable queries.
    </p>


    <p class="p">
        Because the runtime filtering feature applies mainly to resource-intensive and
        long-running queries, only adjust this query option when tuning long-running queries
        involving some combination of large partitioned tables and joins involving large tables.
      </p>


    <p class="p">
        <strong class="ph b">Kudu considerations:</strong>
      </p>


    <p class="p">
        This query option affects only Bloom filters, not the min/max filters that are applied
        to Kudu tables. Therefore, it does not affect the performance of queries against Kudu
        tables.
      </p>


    <p class="p">
        <strong class="ph b">Related information:</strong>
      </p>

    <p class="p">
      <a class="xref" href="impala_runtime_filtering.html">Runtime Filtering for Impala Queries (Impala 2.5 or higher only)</a>,
      
      <a class="xref" href="impala_runtime_bloom_filter_size.html#runtime_bloom_filter_size">RUNTIME_BLOOM_FILTER_SIZE Query Option (Impala 2.5 or higher only)</a>,
      <a class="xref" href="impala_runtime_filter_mode.html#runtime_filter_mode">RUNTIME_FILTER_MODE Query Option (Impala 2.5 or higher only)</a>
    </p>


  </div>

<div class="related-links">
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/impala_explain_level.html">EXPLAIN_LEVEL Query Option</a></div>
</div>
</div></body>
</html>