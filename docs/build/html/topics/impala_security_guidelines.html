<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2018"><meta name="DC.rights.owner" content="(C) Copyright 2018"><meta name="DC.Type" content="concept"><meta name="DC.Relation" scheme="URI" content="../topics/impala_security.html"><meta name="prodname" content="Impala"><meta name="prodname" content="Impala"><meta name="version" content="Impala 2.12x"><meta name="version" content="Impala 2.12x"><meta name="DC.Format" content="XHTML"><meta name="DC.Identifier" content="security_guidelines"><link rel="stylesheet" type="text/css" href="../commonltr.css"><title>Security Guidelines for Impala</title></head><body id="security_guidelines"><main role="main"><article role="article" aria-labelledby="ariaid-title1">

  <h1 class="title topictitle1" id="ariaid-title1">Security Guidelines for Impala</h1>
  

  <div class="body conbody">

    <p class="p">
      The following are the major steps to harden a cluster running Impala against accidents and mistakes, or
      malicious attackers trying to access sensitive data:
    </p>

    <ul class="ul">
      <li class="li">
      <p class="p">
        Secure the <code class="ph codeph">root</code> account. The <code class="ph codeph">root</code> user can tamper with the
        <span class="keyword cmdname">impalad</span> daemon, read and write the data files in HDFS, log into other user accounts, and
        access other system services that are beyond the control of Impala.
      </p>
      </li>

      <li class="li">
      <p class="p">
        Restrict membership in the <code class="ph codeph">sudoers</code> list (in the <span class="ph filepath">/etc/sudoers</span> file).
        The users who can run the <code class="ph codeph">sudo</code> command can do many of the same things as the
        <code class="ph codeph">root</code> user.
      </p>
      </li>

      <li class="li">
      <p class="p">
        Ensure the Hadoop ownership and permissions for Impala data files are restricted.
      </p>
      </li>

      <li class="li">
      <p class="p">
        Ensure the Hadoop ownership and permissions for Impala log files are restricted.
      </p>
      </li>

      <li class="li">
      <p class="p">
        Ensure that the Impala web UI (available by default on port 25000 on each Impala node) is
        password-protected. See <a class="xref" href="impala_webui.html#webui">Impala Web User Interface for Debugging</a> for details.
      </p>
      </li>

      <li class="li">
      <p class="p">
        Create a policy file that specifies which Impala privileges are available to users in particular Hadoop
        groups (which by default map to Linux OS groups). Create the associated Linux groups using the
        <span class="keyword cmdname">groupadd</span> command if necessary.
      </p>
      </li>

      <li class="li">
      <p class="p">
        The Impala authorization feature makes use of the HDFS file ownership and permissions mechanism; for
        background information, see the
        <a class="xref" href="https://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html" target="_blank">HDFS Permissions Guide</a>.
        Set up users and assign them to groups at the OS level, corresponding to the
        different categories of users with different access levels for various databases, tables, and HDFS
        locations (URIs). Create the associated Linux users using the <span class="keyword cmdname">useradd</span> command if
        necessary, and add them to the appropriate groups with the <span class="keyword cmdname">usermod</span> command.
      </p>
      </li>

      <li class="li">
      <p class="p">
        Design your databases, tables, and views with database and table structure to allow policy rules to specify
        simple, consistent rules. For example, if all tables related to an application are inside a single
        database, you can assign privileges for that database and use the <code class="ph codeph">*</code> wildcard for the table
        name. If you are creating views with different privileges than the underlying base tables, you might put
        the views in a separate database so that you can use the <code class="ph codeph">*</code> wildcard for the database
        containing the base tables, while specifying the precise names of the individual views. (For specifying
        table or database names, you either specify the exact name or <code class="ph codeph">*</code> to mean all the databases
        on a server, or all the tables and views in a database.)
      </p>
      </li>

      <li class="li">
      <p class="p">
        Enable authorization by running the <code class="ph codeph">impalad</code> daemons with the <code class="ph codeph">-server_name</code>
        and <code class="ph codeph">-authorization_policy_file</code> options on all nodes. (The authorization feature does not
        apply to the <span class="keyword cmdname">statestored</span> daemon, which has no access to schema objects or data files.)
      </p>
      </li>

      <li class="li">
      <p class="p">
        Set up authentication using Kerberos, to make sure users really are who they say they are.
      </p>
      </li>
    </ul>
  </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="../topics/impala_security.html">Impala Security</a></div></div></nav></article></main></body></html>